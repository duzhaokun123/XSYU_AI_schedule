<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr">
<head>
  <title></title>
  <meta http-equiv="content-type" content="text/html;charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="pragma" content="no-cache"/>
  <meta http-equiv="cache-control" content="no-cache"/>
  <meta http-equiv="expires" content="0"/>
  <meta http-equiv="content-style-type" content="text/css"/>
  <meta http-equiv="content-script-type" content="text/javascript"/>
  <script>
      window.$BG_LANG='zh';
  </script>
  <script type="text/javascript" src="/eams/static/scripts/jquery/jquery,jquery.ui.core.js?bg=3.4.3"></script>
  <script type="text/javascript" src="/eams/static/scripts/plugins/jquery-form,jquery-history,jquery-colorbox,jquery-chosen.js?bg=3.4.3"></script>
  <script type="text/javascript" src="/eams/static/js/plugins/jquery.subscribe,/js/struts2/jquery.struts2,jquery.ui.struts2.js?bg=3.4.3"></script>
  <script type="text/javascript" src="/eams/static/scripts/beangle/beangle,beangle-ui.js?bg=3.4.3"></script>
  <script type="text/javascript">var App = {contextPath:"/eams"};jQuery(document).ready(function () {jQuery.struts2_jquery.version="3.6.1";beangle.contextPath=App.contextPath;jQuery.scriptPath = App.contextPath+"/static/";jQuery.struts2_jquerySuffix = "";jQuery.ajaxSettings.traditional = true;jQuery.ajaxSetup ({cache: false});});</script>
  <script type="text/javascript" src="/eams/static/scripts/my97/WdatePicker-4.72.js?compress=no"></script>
  <link id="jquery_theme_link" rel="stylesheet" href="/eams/static/themes/smoothness/jquery-ui.css?s2j=3.6.1" type="text/css"/>
  <link id="beangle_theme_link" href="/eams/static/themes/default/beangle-ui,colorbox,chosen.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="/eams/static/css/foundation.css" type="text/css"/>

	<script src="/eams/static/scripts/require.config.js?v=3"></script>
	<script>
	require.baseUrl="/eams/static/scripts";
	</script>
	<script src="/eams/static/scripts/require.js"></script>
	<script type="text/javascript" src="/eams/static/scripts/require.js"></script>
	
	<!-- backbone & underscore -- fontend MVC framework -->
	<script type="text/javascript" src="/eams/static/scripts/underscore.min.js"></script>
	<script type="text/javascript" src="/eams/static/scripts/backbone.min.js"></script>
	<script type="text/javascript" src="/eams/static/scripts/underscore.string.min.js"></script>
	<script>
	require(['underscore.string'], function(_s) {
	        _.str = _s;
	        _.mixin(_.str.exports());
	});
	</script>
	

</head>
<body>

<div id="toolbar20826294511"></div>
<script type="text/javascript">
  bar = bg.ui.toolbar("toolbar20826294511",'我的课表');
  
  bar.addHr();
</script><div  style="background: url('/eams/static/images/semesterBarBg.png') repeat-x scroll 50% 50% #DEEDF7;border: 1px solid #AED0EA;color: #222222;font-weight: bold;height:28px;">

<form id="courseTableForm" name="courseTableForm" action="/eams/courseTableForStd.action" method="post" target="" >

<div style="margin-left:4px;margin-top:2px;float:left;line-height:22px;height:22px;">
		<input type="hidden" name="ignoreHead" value="1"/>
	<label for="courseTableType" class="title">课表类型:</label>
	<select id="courseTableType" name="setting.kind" onChange="searchTable()" style="width:120px">
		<option value="std">学生课表</option>
		<option value="class">班级课表</option> 
	</select>
	|

</div>
<div style="margin-left:10px;margin-top:2px;float:left;line-height:18px;height:22px;">
<label for="semesterBar20826294511">项目:</label>
<select id="semesterBar20826294511" name="project.id">
	
</select>
	<label for="semesterBar20826294511Semester" class="title">学年学期:</label>
	<input id="semesterBar20826294511Semester" class="calendar-text calendar-text-state-default" title="学年学期" type="text" value="" readonly="true" />
	<div class="calendar-bar" tabIndex="-1">
		<input id="semesterCalendar_target" type="hidden" name="semester.id" value=""/>
		<a name="prev" href="javascript:void(0)" style="display:none"><img src="/eams/static/themes/default/images/semesterCalendar_prev.gif"/></a>
		<input id="semesterCalendar_year" class="calendar-bar-input" type="text" index="0" value="" maxLength="4" size="4" readonly="true" style="display:none"/><span style="display:none">学年</span>
		<a name="next" href="javascript:void(0)" style="display:none"><img src="/eams/static/themes/default/images/semesterCalendar_next.gif"/></a>
		
		<a name="prev" href="javascript:void(0)" style="display:none"><img src="/eams/static/themes/default/images/semesterCalendar_prev.gif"/></a>
		<input id="semesterCalendar_term" class="calendar-bar-input" type="text" index="0" value="" size="4" readonly="true" style="display:none"/><span style="display:none">学期</span>
		<a name="next" href="javascript:void(0)" style="display:none"><img src="/eams/static/themes/default/images/semesterCalendar_next.gif"/></a>
		<a href="javascript:void(0)" id="allSemester" style="display:none"></a>
		
		<table id="semesterCalendar_yearTb" class="semesterCalendar_yearTb">
			<tbody>
			</tbody>
		</table>
		<!-- 两个table之间的空div用来解决IE6 下莫名其妙重复渲染最后一个学年td中的文字的bug-->
		<div></div>
		<table id="semesterCalendar_termTb" class="semesterCalendar_termTb">
			<tbody>
			</tbody>
		</table>
	</div>
	<script type="text/javascript" src="/eams/static/scripts/semesterCalendar_zh.js"></script>
	<script type="text/javascript">
		if(jQuery.struts2_jquery.scriptCache["/scripts/semesterCalendar.js?s2j="+jQuery.struts2_jquery.version]){
			jQuery("#semesterBar20826294511Semester").semesterCalendar({empty:"false",onChange:"",value:"202"},"searchTable()");
		}else{
			jQuery.struts2_jquery.require("/scripts/semesterCalendar.js",function(){
				jQuery("#semesterBar20826294511Semester").semesterCalendar({empty:"false",onChange:"",value:"202"},"searchTable()");
			},'/eams/static');
		}

	</script>
<script type="text/javascript">
		jQuery("#semesterBar20826294511").val(jQuery.post("/eams/dataQuery.action",{dataType:"projectId"}));
		jQuery("#semesterBar20826294511").hide();
		jQuery("#semesterBar20826294511").prev().hide();
		var semesterBar20826294511res = jQuery.post("/eams/dataQuery.action",{entityId:""},function(){
			if(semesterBar20826294511res.status==200){
				jQuery("#semesterBar20826294511").empty();
				if(semesterBar20826294511res.responseText!=""){
					jQuery("#semesterBar20826294511").append(semesterBar20826294511res.responseText);
				}
			}
		},"text");
	jQuery("#semesterBar20826294511").change(function(){
		jQuery.post("/eams/dataQuery!changeProjectId.action",{projectId:this.value},function(){
			jQuery("#semesterBar20826294511Semester")[0].getSemesters(jQuery("#semesterBar20826294511Semester"),{empty:"false",value:"202"},"searchTable()");
		},"text");
	});
</script>
<input type="submit" value="切换学期" onclick="searchTable();return false;"/>
</div>

</form>
</div><table class="indexpanel">
	<tr>
		<td class="index_content">
<div id="contentDiv" class="ajax_container"></div>

		</td>
	</tr>
</table>
<script language="JavaScript">
	var form = document.courseTableForm;
   	function searchTable(){
   		if(jQuery("#courseTableType").val()=="std"){
   			bg.form.addInput(form,"ids","313183");
   		}else{
   			bg.form.addInput(form,"ids","14327");
   		}
       	bg.form.submit(form,"courseTableForStd!courseTable.action","contentDiv");
   	}
   	
	function confirmCourseTable(){
		if(confirm("课表是否确认无误?")){
			form.target="main";
			bg.form.addInput(form,"courseTableCheckId","")
      		bg.form.submit(form,"courseTableForStd!confirmCourseTable.action");
      		form.target="contentDiv";
      	}
	}
 </script>
</body>
</html>
